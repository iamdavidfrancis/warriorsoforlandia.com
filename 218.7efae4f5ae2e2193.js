"use strict";(self.webpackChunkwarriors_site=self.webpackChunkwarriors_site||[]).push([[218],{7218:(tt,m,o)=>{o.r(m),o.d(m,{CardsModule:()=>V});var _=o(7128),f=o(4756),g=o(6895),s=o(4006),t=o(4650),d=o(3456),l=o(1802),C=o(7392),p=o(782),u=o(329),h=o(98);function x(n,a){if(1&n&&(t.TgZ(0,"div",5)(1,"mat-icon"),t._uU(2,"warning"),t.qZA(),t._uU(3),t.TgZ(4,"a",6),t._uU(5,"Click here"),t.qZA(),t._uU(6," to go back to card search. "),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.errorResult.message," ")}}function Z(n,a){if(1&n&&(t.TgZ(0,"div",12)(1,"span",13),t._uU(2," Initiative: "),t.qZA(),t.TgZ(3,"span",14),t._uU(4),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.hij(" ",e.card.initiative," ")}}function T(n,a){if(1&n&&(t.TgZ(0,"div",12)(1,"span",13),t._uU(2," Element: "),t.qZA(),t.TgZ(3,"span",14),t._uU(4),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.hij(" ",e.card.element," ")}}function v(n,a){if(1&n&&(t.TgZ(0,"div",12)(1,"span",13),t._uU(2," Life: "),t.qZA(),t.TgZ(3,"span",14),t._uU(4),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.hij(" ",e.card.life," ")}}function M(n,a){if(1&n&&(t.TgZ(0,"div",12)(1,"span",13),t._uU(2," Defense: "),t.qZA(),t.TgZ(3,"span",14),t._uU(4),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.hij(" ",e.card.defense," ")}}function S(n,a){if(1&n&&(t.TgZ(0,"div",12)(1,"span",13),t._uU(2," Speed: "),t.qZA(),t.TgZ(3,"span",14),t._uU(4),t.qZA()(),t.TgZ(5,"div",12)(6,"span",13),t._uU(7," Widom: "),t.qZA(),t.TgZ(8,"span",14),t._uU(9),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.hij(" ",e.card.speed," "),t.xp6(5),t.hij(" ",e.card.wisdom," ")}}function b(n,a){if(1&n&&(t.TgZ(0,"div",12)(1,"span",13),t._uU(2," Damage: "),t.qZA(),t.TgZ(3,"span",14),t._uU(4),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.hij(" ",e.card.damage," ")}}function A(n,a){if(1&n&&(t.TgZ(0,"div",12)(1,"span",13),t._uU(2," Flavor Text: "),t.qZA(),t.TgZ(3,"i"),t._UZ(4,"span",16),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("innerHTML",e.card.flavorText,t.oJD)}}function y(n,a){if(1&n&&(t.TgZ(0,"div",12)(1,"span",13),t._uU(2," Card Number: "),t.qZA(),t.TgZ(3,"span",14),t._uU(4),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.hij(" ",e.card.collectorsNumber," ")}}function U(n,a){if(1&n&&(t.TgZ(0,"div",19)(1,"div",12)(2,"span",13),t._uU(3," Attack Grid: "),t.qZA(),t.TgZ(4,"span",14)(5,"mat-grid-list",20)(6,"mat-grid-tile",21),t._uU(7),t.qZA(),t.TgZ(8,"mat-grid-tile",21),t._uU(9),t.qZA(),t.TgZ(10,"mat-grid-tile",21),t._uU(11),t.qZA(),t.TgZ(12,"mat-grid-tile",21),t._uU(13),t.qZA(),t.TgZ(14,"mat-grid-tile",21),t._uU(15),t.qZA(),t.TgZ(16,"mat-grid-tile",21),t._uU(17),t.qZA(),t.TgZ(18,"mat-grid-tile",21),t._uU(19),t.qZA(),t.TgZ(20,"mat-grid-tile",21)(21,"mat-icon"),t._uU(22,"keyboard_arrow_up"),t.qZA()(),t.TgZ(23,"mat-grid-tile",21),t._uU(24),t.qZA(),t.TgZ(25,"mat-grid-tile",21),t._uU(26),t.qZA(),t.TgZ(27,"mat-grid-tile",21),t._uU(28),t.qZA(),t.TgZ(29,"mat-grid-tile",21),t._uU(30),t.qZA()()()()()),2&n){const e=t.oxw(2);t.xp6(7),t.Oqu(e.card.attackGrid[0][0]),t.xp6(2),t.Oqu(e.card.attackGrid[1][0]),t.xp6(2),t.Oqu(e.card.attackGrid[2][0]),t.xp6(2),t.Oqu(e.card.attackGrid[0][1]),t.xp6(2),t.Oqu(e.card.attackGrid[1][1]),t.xp6(2),t.Oqu(e.card.attackGrid[2][1]),t.xp6(2),t.Oqu(e.card.attackGrid[0][2]),t.xp6(5),t.Oqu(e.card.attackGrid[2][2]),t.xp6(2),t.Oqu(e.card.attackGrid[0][3]),t.xp6(2),t.Oqu(e.card.attackGrid[1][3]),t.xp6(2),t.Oqu(e.card.attackGrid[2][3])}}function q(n,a){if(1&n&&(t.TgZ(0,"div",7)(1,"div",8)(2,"a",9),t._UZ(3,"img",10),t.qZA()(),t.TgZ(4,"div",11)(5,"div",12)(6,"span",13),t._uU(7," Card Name: "),t.qZA(),t.TgZ(8,"span",14),t._uU(9),t.qZA()(),t.YNc(10,Z,5,1,"div",15),t.YNc(11,T,5,1,"div",15),t.TgZ(12,"div",12)(13,"span",13),t._uU(14," Card Type: "),t.qZA(),t.TgZ(15,"span",14),t._uU(16),t.qZA()(),t.TgZ(17,"div",12)(18,"span",13),t._uU(19," Ability: "),t.qZA(),t._UZ(20,"span",16),t.qZA(),t.YNc(21,v,5,1,"ng-template",17),t.YNc(22,M,5,1,"ng-template",17),t.YNc(23,S,10,2,"ng-template",17),t.YNc(24,b,5,1,"div",15),t.YNc(25,A,5,1,"div",15),t.TgZ(26,"div",12)(27,"span",13),t._uU(28," Artist: "),t.qZA(),t.TgZ(29,"span",14),t._uU(30),t.qZA()(),t.TgZ(31,"div",12)(32,"span",13),t._uU(33," Set: "),t.qZA(),t.TgZ(34,"span",14),t._uU(35),t.qZA()(),t.YNc(36,y,5,1,"div",15),t.YNc(37,U,31,11,"div",18),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("href",e.cardImageUrl,t.LSH),t.xp6(1),t.Q6J("src",e.cardThumbUrl,t.LSH)("alt",e.card.name+" image"),t.xp6(6),t.hij(" ",e.card.name," "),t.xp6(1),t.Q6J("ngIf",e.card.initiative),t.xp6(1),t.Q6J("ngIf",e.card.element),t.xp6(5),t.AsE(" ",e.card.type," ",e.card.subType?" - "+e.card.subType:""," "),t.xp6(4),t.Q6J("innerHTML",e.card.ability,t.oJD),t.xp6(1),t.Q6J("ngIf","Warrior"===e.card.type||"Reinforcement"===e.card.type),t.xp6(1),t.Q6J("ngIf","Reinforcement"===e.card.type),t.xp6(1),t.Q6J("ngIf","Warrior"===e.card.type),t.xp6(1),t.Q6J("ngIf",e.card.damage||0===e.card.damage),t.xp6(1),t.Q6J("ngIf",e.card.flavorText),t.xp6(5),t.hij(" ",e.card.artist," "),t.xp6(5),t.AsE(" ",e.card.set?e.card.set.name:""," (",e.card.set?e.card.set.code:"",") "),t.xp6(1),t.Q6J("ngIf",e.card.collectorsNumber),t.xp6(1),t.Q6J("ngIf",("Warrior"===e.card.type||"Weapon"===e.card.type)&&e.card.attackGrid)}}function O(n,a){1&n&&t._UZ(0,"hr")}function J(n,a){1&n&&(t.TgZ(0,"span",24),t._uU(1,"No rulings or errata for this card"),t.qZA())}function P(n,a){1&n&&t._uU(0," Error: Rulings could not be rendered. ")}function I(n,a){if(1&n&&(t.TgZ(0,"div",22)(1,"h3"),t._uU(2," Rulings and Errata "),t.qZA(),t.YNc(3,J,2,0,"span",23),t.YNc(4,P,1,0,"ng-template",17),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.card.rulings||0===e.card.rulings.length),t.xp6(1),t.Q6J("ngIf",e.card.rulings&&e.card.rulings.length>0)}}let D=(()=>{class n{constructor(e,r){this.route=e,this.cardDataService=r}ngOnInit(){this.routeSubscription=this.route.params.subscribe(e=>{this.loading=!0;const r=e.id;this.cardDataSubscription&&this.cardDataSubscription.unsubscribe(),this.cardTitle="Loading Card",this.error=!1,this.cardDataService.getCard(r).subscribe(i=>{this.card=i,this.loading=!1,this.cardTitle=i.name||"",this.cardThumbUrl=this.cardDataService.getCardImageUrl(i,!0),this.cardImageUrl=this.cardDataService.getCardImageUrl(i)},i=>{this.error=!0,this.errorResult=i,this.cardTitle=i.title},()=>{this.loading=!1})})}ngOnDestroy(){this.routeSubscription.unsubscribe(),this.cardDataSubscription&&this.cardDataSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(l.b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-card-details"]],decls:6,vars:5,consts:[[3,"title"],["class","card-error",4,"ngIf"],["class","card-data-container",4,"ngIf"],[4,"ngIf"],["class","card-rulings",4,"ngIf"],[1,"card-error"],["routerLink","/cards"],[1,"card-data-container"],[1,"card-image"],["target","_blank",3,"href"],[3,"src","alt"],[1,"card-data"],[1,"card-data-item"],[1,"card-label"],[1,"card-value"],["class","card-data-item",4,"ngIf"],[1,"card-value",3,"innerHTML"],[3,"ngIf"],["class","attack-grid",4,"ngIf"],[1,"attack-grid"],["cols","3","rowHeight","30px","role","list"],["role","listitem","colspan","1","rowspan","1"],[1,"card-rulings"],["class","warning",4,"ngIf"],[1,"warning"]],template:function(e,r){1&e&&(t._UZ(0,"app-page-header",0),t.TgZ(1,"app-page-content"),t.YNc(2,x,7,1,"div",1),t.YNc(3,q,38,19,"div",2),t.YNc(4,O,1,0,"hr",3),t.YNc(5,I,5,2,"div",4),t.qZA()),2&e&&(t.Q6J("title",r.cardTitle),t.xp6(2),t.Q6J("ngIf",r.error),t.xp6(1),t.Q6J("ngIf",!r.loading&&!r.error),t.xp6(1),t.Q6J("ngIf",!r.loading&&!r.error),t.xp6(1),t.Q6J("ngIf",!r.loading&&!r.error))},dependencies:[g.O5,d.yS,C.Hw,p.Il,p.DX,u.q,h.Y],styles:[".card-data-container[_ngcontent-%COMP%]{display:flex;margin-top:10px}.card-image[_ngcontent-%COMP%]{padding:15px 15px 15px 0;border-right:1px #ccc solid}.card-error[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:10px}.card-error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;margin:0 4px}.card-error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.card-data[_ngcontent-%COMP%]{padding:15px 0 15px 15px}.card-data[_ngcontent-%COMP%]   .card-data-item[_ngcontent-%COMP%]{display:flex;margin-bottom:5px}.card-data[_ngcontent-%COMP%]   .card-data-item[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{text-align:right;display:inline-block;width:100px;font-weight:500;margin-right:10px}.card-data[_ngcontent-%COMP%]   .card-data-item[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{width:300px;display:inline-block}.card-data[_ngcontent-%COMP%]   .card-data-item[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]{border:1px #ccc solid}hr[_ngcontent-%COMP%]{border:none;border-bottom:1px #ccc solid}h3[_ngcontent-%COMP%]{font-weight:500}@media screen and (max-width: 884px){.card-data-container[_ngcontent-%COMP%]{display:block}.card-data[_ngcontent-%COMP%]{padding:10px}.card-data[_ngcontent-%COMP%]   .card-data-item[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{width:200px}.card-image[_ngcontent-%COMP%]{width:100%;border:none;padding:0}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}"]}),n})();var N=o(5591),Q=o(1572),w=o(4859),F=o(7676),Y=o(4144),j=o(3238),G=o(5113);function H(n,a){if(1&n&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function k(n,a){if(1&n&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.code),t.xp6(1),t.hij(" ",e.name," ")}}function R(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"form",1,2),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit())}),t.TgZ(2,"mat-form-field",3)(3,"input",4),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.searchModel.name=i)}),t.qZA()(),t.TgZ(4,"mat-form-field")(5,"mat-select",5),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.searchModel.type=i)}),t.YNc(6,H,2,2,"mat-option",6),t.qZA()(),t.TgZ(7,"mat-form-field")(8,"mat-select",7),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.searchModel.set=i)}),t.YNc(9,k,2,2,"mat-option",6),t.qZA()(),t.TgZ(10,"mat-form-field",8)(11,"input",9),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.searchModel.artist=i)}),t.qZA()(),t.TgZ(12,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit())}),t._uU(13,"Search"),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(1);return t.KtG(i.reset())}),t._uU(15,"Reset"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.searchModel.name),t.xp6(2),t.Q6J("ngModel",e.searchModel.type),t.xp6(1),t.Q6J("ngForOf",e.types),t.xp6(2),t.Q6J("ngModel",e.searchModel.set),t.xp6(1),t.Q6J("ngForOf",e.sets),t.xp6(2),t.Q6J("ngModel",e.searchModel.artist)}}let z=(()=>{class n{constructor(e){this.cardDataService=e,this.loadingSets=!0,this.loadingTypes=!0,this.search=new t.vpe}ngOnInit(){this.setSubscription=this.cardDataService.getSets().subscribe(e=>{this.sets=e,this.loadingSets=!1}),this.typeSubscription=this.cardDataService.getTypes().subscribe(e=>{this.types=e,this.loadingTypes=!1})}ngOnDestroy(){this.setSubscription.unsubscribe(),this.typeSubscription.unsubscribe()}onSubmit(){this.search.emit(this.searchModel),console.log(this.searchModel)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-search-form"]],inputs:{searchModel:"searchModel"},outputs:{search:"search"},decls:1,vars:1,consts:[[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],["searchForm",""],[1,"card-name"],["matInput","","placeholder","Card Name","name","card-name",3,"ngModel","ngModelChange"],["placeholder","Card Type","name","card-type",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Set","name","card-set",3,"ngModel","ngModelChange"],[1,"card-artist"],["matInput","","placeholder","Artist","name","card-artist",3,"ngModel","ngModelChange"],["mat-button","","type","button","color","primary",3,"click"],["mat-button","","type","button","color","warn",3,"click"],[3,"value"]],template:function(e,r){1&e&&t.YNc(0,R,16,6,"form",0),2&e&&t.Q6J("ngIf",!r.loadingSets&&!r.loadingTypes)},dependencies:[g.sg,g.O5,w.lW,F.KE,Y.Nt,j.ey,G.gD,s._Y,s.Fj,s.JJ,s.JL,s.On,s.F],styles:["form[_ngcontent-%COMP%]{padding-top:15px}"]}),n})();function L(n,a){1&n&&t._UZ(0,"mat-spinner")}function E(n,a){if(1&n&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.error," ")}}const K=function(n){return["/cards",n]};function B(n,a){if(1&n&&(t.TgZ(0,"mat-grid-tile")(1,"a",10)(2,"mat-grid-tile-header"),t._uU(3),t.qZA(),t._UZ(4,"img",11),t.TgZ(5,"mat-grid-tile-footer"),t._uU(6),t.qZA()()()),2&n){const e=a.$implicit,r=t.oxw(2);t.xp6(1),t.Q6J("routerLink",t.VKq(6,K,e.id)),t.xp6(2),t.Oqu(e.name),t.xp6(1),t.Q6J("src",r.getCardImage(e),t.LSH)("alt",e.name+" image"),t.xp6(2),t.AsE(" ",e.type," ",e.subType?"- "+e.subType:""," ")}}function W(n,a){if(1&n&&(t.TgZ(0,"div",6)(1,"div",7)(2,"mat-grid-list",8),t.YNc(3,B,7,8,"mat-grid-tile",9),t.qZA()()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("cols",e.gridColumns),t.xp6(1),t.Q6J("ngForOf",e.results.results)}}const X=[{path:"",component:(()=>{class n{constructor(e,r,i){this.cardDataService=e,this.route=r,this.router=i,this.gridColumns=4}ngOnInit(){this.doResize(window.innerWidth),this.search={name:"",type:"",set:"",artist:""},this.routeSubscription=this.route.queryParams.subscribe(e=>{this.search={name:e.name,type:e.type,set:e.set,artist:e.artist},this.searchInternal()})}ngOnDestroy(){this.routeSubscription.unsubscribe(),this.searchSubscription&&this.searchSubscription.unsubscribe()}onResize(e){this.doResize(e.target.innerWidth)}doResize(e){this.gridColumns=e<480?1:e<980?2:4}performSearch(e){this.router.navigate(["cards"],{queryParams:{name:e.name,type:e.type,set:e.set,artist:e.artist}})}searchInternal(){!this.shouldPerformSearch()||(this.error=null,this.searching=!0,this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this.cardDataService.searchCards(this.search).subscribe(e=>{this.results=e,this.searching=!1},e=>{this.searching=!1,this.error=e}))}getCardImage(e){return this.cardDataService.getCardImageUrl(e,!0)}shouldPerformSearch(){return!!(this.search.name||this.search.type||this.search.set||this.search.artist)||N.g.Instance.cards.performEmptySearch}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.b),t.Y36(d.gz),t.Y36(d.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-search-page"]],hostBindings:function(e,r){1&e&&t.NdJ("resize",function(c){return r.onResize(c)},!1,t.Jf7)},decls:6,vars:4,consts:[["title","Card Search"],[3,"searchModel","search"],[4,"ngIf"],["class","error",4,"ngIf"],["class","results",4,"ngIf"],[1,"error"],[1,"results"],[1,"results-grid"],["rowHeight","1:1.34","gutterSize","10",3,"cols"],[4,"ngFor","ngForOf"],[3,"routerLink"],[3,"src","alt"]],template:function(e,r){1&e&&(t._UZ(0,"app-page-header",0),t.TgZ(1,"app-page-content")(2,"app-search-form",1),t.NdJ("search",function(c){return r.performSearch(c)}),t.qZA(),t.YNc(3,L,1,0,"mat-spinner",2),t.YNc(4,E,2,1,"div",3),t.YNc(5,W,4,2,"div",4),t.qZA()),2&e&&(t.xp6(2),t.Q6J("searchModel",r.search),t.xp6(1),t.Q6J("ngIf",r.searching),t.xp6(1),t.Q6J("ngIf",r.error),t.xp6(1),t.Q6J("ngIf",r.results&&!r.searching&&!r.error))},dependencies:[g.sg,g.O5,d.yS,p.Il,p.DX,p.$H,p.jo,p.Bv,Q.Ou,u.q,h.Y,z],styles:["mat-grid-tile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}mat-icon[_ngcontent-%COMP%]{margin-right:5px}.missing-set[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;padding-bottom:20px}"]}),n})()},{path:":id",component:D}];let $=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(X),d.Bz]}),n})(),V=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,$,f.h,_.q,s.u5]}),n})()}}]);